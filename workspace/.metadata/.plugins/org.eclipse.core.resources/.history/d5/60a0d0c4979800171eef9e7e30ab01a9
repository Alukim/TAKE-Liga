package models;

import java.util.ArrayList;
import java.util.Map;

public class Consortiun {
	//many petrol station
	//decides about supply amount to each station
	
	ArrayList<PetrolStation> stations = new ArrayList<PetrolStation>();
	int TANKS_COUNT = 4;
	float MAX_TANK_VOLUME = 10012f;
	int TANK_HIGH = 1500;
	int NOZZLES_COUNT_PER_TANK = 4;
	
	public void createStations(int count){
		for(int i = 0; i < count; i++){
			stations.add(new PetrolStation(TANKS_COUNT, MAX_TANK_VOLUME, NOZZLES_COUNT_PER_TANK));
		}
	}
	
	public void supplyStations(){			
		 for (PetrolStation petrolStation : stations) {				 
			Map<Integer, Float> orders = petrolStation.getOrders();
			ArrayList<Supply> supplies = new ArrayList<Supply>();
			
			for (Tank tank : petrolStation.tanks) {
				Float orderPerTank = orders.get(tank.id);
				if(orderPerTank != null)
					supplies.add(new Supply(tank.id, orderPerTank));
			}
			
			petrolStation.refuelTanks(supplies);
		}			
	}
	
	public void simulateStationsActivity(int daysCount){
		for(int i = 0; i < daysCount; i++){
			for (PetrolStation station : stations) {				 
				station.simulateActivity();
			}	
		}
	}
}
